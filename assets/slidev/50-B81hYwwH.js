import{_ as r}from"./KaTexBlockWrapper-BoPXIsQW.js";import{o as p,c,k as a,l as n,m as t,q as i,s as o,A as m,e as s}from"../modules/vue-D_1tdyWU.js";import{I as h}from"./default-CVy56Kt5.js";import{b as u,aw as e}from"../index-D_3_TOrq.js";import{p as g,u as d,f as y}from"./context-Czb5MoX_.js";import"./chunk-YNRNLEBD-BlFlnRnD.js";import"../modules/shiki-BLoV2MwH.js";const _=s("h1",null,"DRAM&Buffer容量估计",-1),f=s("p",null,"5.5",-1),b=s("p",null,[s("strong",null,"DRAM")],-1),x=s("p",null,"量化后的vector数据：",-1),v=s("p",null,[s("span",{class:"katex-display"},[s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[s("semantics",null,[s("mrow",null,[s("mi",null,"G"),s("mo",null,"∗"),s("mi",null,"S")]),s("annotation",{encoding:"application/x-tex"},"G * S ")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.6833em"}}),s("span",{class:"mord mathnormal"},"G"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mbin"},"∗"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.6833em"}}),s("span",{class:"mord mathnormal",style:{"margin-right":"0.05764em"}},"S")])])])])],-1),k=s("p",null,"每轮迭代获取的邻居以及3-hop缓存(按最多计算)：",-1),M=s("p",null,[s("span",{class:"katex-display"},[s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[s("semantics",null,[s("mrow",null,[s("mo",{stretchy:"false"},"("),s("mi",{mathvariant:"normal"},"∣"),s("mi",null,"N"),s("mo",{stretchy:"false"},"("),s("mi",null,"p"),s("mo",{stretchy:"false"},")"),s("mi",{mathvariant:"normal"},"∣"),s("mo",null,"+"),s("mi",{mathvariant:"normal"},"∣"),s("mi",null,"N"),s("mo",{stretchy:"false"},"("),s("mi",null,"p"),s("mo",{stretchy:"false"},")"),s("msup",null,[s("mi",{mathvariant:"normal"},"∣"),s("mn",null,"2")]),s("mo",null,"+"),s("mi",{mathvariant:"normal"},"∣"),s("mi",null,"N"),s("mo",{stretchy:"false"},"("),s("mi",null,"p"),s("mo",{stretchy:"false"},")"),s("msup",null,[s("mi",{mathvariant:"normal"},"∣"),s("mn",null,"3")]),s("mo",{stretchy:"false"},")"),s("mo",null,"∗"),s("mn",null,"4"),s("mi",null,"b"),s("mi",null,"y"),s("mi",null,"t"),s("mi",null,"e"),s("mi",null,"s")]),s("annotation",{encoding:"application/x-tex"},"(|N(p)| + |N(p)|^2 + |N(p)|^3) * 4bytes ")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),s("span",{class:"mopen"},"("),s("span",{class:"mord"},"∣"),s("span",{class:"mord mathnormal",style:{"margin-right":"0.10903em"}},"N"),s("span",{class:"mopen"},"("),s("span",{class:"mord mathnormal"},"p"),s("span",{class:"mclose"},")"),s("span",{class:"mord"},"∣"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mbin"},"+"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),s("span",{class:"base"},[s("span",{class:"strut",style:{height:"1.1141em","vertical-align":"-0.25em"}}),s("span",{class:"mord"},"∣"),s("span",{class:"mord mathnormal",style:{"margin-right":"0.10903em"}},"N"),s("span",{class:"mopen"},"("),s("span",{class:"mord mathnormal"},"p"),s("span",{class:"mclose"},")"),s("span",{class:"mord"},[s("span",{class:"mord"},"∣"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.8641em"}},[s("span",{style:{top:"-3.113em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mtight"},"2")])])])])])])]),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mbin"},"+"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),s("span",{class:"base"},[s("span",{class:"strut",style:{height:"1.1141em","vertical-align":"-0.25em"}}),s("span",{class:"mord"},"∣"),s("span",{class:"mord mathnormal",style:{"margin-right":"0.10903em"}},"N"),s("span",{class:"mopen"},"("),s("span",{class:"mord mathnormal"},"p"),s("span",{class:"mclose"},")"),s("span",{class:"mord"},[s("span",{class:"mord"},"∣"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.8641em"}},[s("span",{style:{top:"-3.113em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mtight"},"3")])])])])])])]),s("span",{class:"mclose"},")"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mbin"},"∗"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.8889em","vertical-align":"-0.1944em"}}),s("span",{class:"mord"},"4"),s("span",{class:"mord mathnormal"},"b"),s("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"y"),s("span",{class:"mord mathnormal"},"t"),s("span",{class:"mord mathnormal"},"es")])])])])],-1),w=s("p",null,"二级索引，100000个数据, 平均度42：",-1),B=s("p",null,[s("span",{class:"katex-display"},[s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[s("semantics",null,[s("mrow",null,[s("mn",null,"100000"),s("mo",null,"∗"),s("mo",{stretchy:"false"},"("),s("mn",null,"42"),s("mo",null,"∗"),s("mn",null,"4"),s("mi",null,"b"),s("mi",null,"y"),s("mi",null,"t"),s("mi",null,"e"),s("mi",null,"s"),s("mo",{stretchy:"false"},")"),s("mo",null,"="),s("mn",null,"16.8"),s("mi",null,"M"),s("mi",null,"B")]),s("annotation",{encoding:"application/x-tex"},"100000*(42*4bytes) = 16.8MB ")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.6444em"}}),s("span",{class:"mord"},"100000"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mbin"},"∗"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),s("span",{class:"base"},[s("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),s("span",{class:"mopen"},"("),s("span",{class:"mord"},"42"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mbin"},"∗"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),s("span",{class:"base"},[s("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),s("span",{class:"mord"},"4"),s("span",{class:"mord mathnormal"},"b"),s("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"y"),s("span",{class:"mord mathnormal"},"t"),s("span",{class:"mord mathnormal"},"es"),s("span",{class:"mclose"},")"),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),s("span",{class:"mrel"},"="),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.6833em"}}),s("span",{class:"mord"},"16.8"),s("span",{class:"mord mathnormal",style:{"margin-right":"0.05017em"}},"MB")])])])])],-1),N=s("p",null,"带入数据，量化的数据占320MB，缓存占0.5MB，二级索引占16.8MB。500MB的DRAM足够",-1),z={__name:"50",setup(A){return g(e),d(),(L,P)=>{const l=r;return p(),c(h,i(o(m(y)(m(e),49))),{default:a(()=>[_,f,b,x,n(l,t({},{ranges:[]}),{default:a(()=>[v]),_:1},16),k,n(l,t({},{ranges:[]}),{default:a(()=>[M]),_:1},16),w,n(l,t({},{ranges:[]}),{default:a(()=>[B]),_:1},16),N]),_:1},16)}}},V=u(z,[["__file","/@slidev/slides/50.md"]]);export{V as default};
