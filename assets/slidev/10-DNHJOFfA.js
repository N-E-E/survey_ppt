import{o as t,c as m,k as e,q as r,s as i,A as l,e as s,a0 as a}from"../modules/vue-D_1tdyWU.js";import{I as o}from"./default-CEkqKfgz.js";import{b as p,K as n}from"../index-C1kyXy8w.js";import{p as c,u as h,f as u}from"./context-CnKUQPZD.js";import"../modules/shiki-BLoV2MwH.js";const d=s("h1",null,"单个query分析",-1),g=s("p",null,"1.3",-1),x=s("p",null,[s("strong",null,[a("取"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mi",null,"P"),s("mi",null,"a"),s("mi",null,"g"),s("mi",null,"e"),s("mi",null,"S"),s("mi",null,"i"),s("mi",null,"z"),s("mi",null,"e"),s("mo",null,"="),s("mn",null,"16"),s("mi",null,"K"),s("mi",null,"B")]),s("annotation",{encoding:"application/x-tex"},"PageSize = 16KB")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.8778em","vertical-align":"-0.1944em"}}),s("span",{class:"mord mathnormal",style:{"margin-right":"0.13889em"}},"P"),s("span",{class:"mord mathnormal"},"a"),s("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"g"),s("span",{class:"mord mathnormal"},"e"),s("span",{class:"mord mathnormal",style:{"margin-right":"0.05764em"}},"S"),s("span",{class:"mord mathnormal"},"i"),s("span",{class:"mord mathnormal"},"ze"),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),s("span",{class:"mrel"},"="),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.6833em"}}),s("span",{class:"mord"},"16"),s("span",{class:"mord mathnormal",style:{"margin-right":"0.07153em"}},"K"),s("span",{class:"mord mathnormal",style:{"margin-right":"0.05017em"}},"B")])])]),a(", "),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mi",null,"t"),s("mi",null,"h"),s("mi",null,"r"),s("mi",null,"o"),s("mi",null,"u"),s("mi",null,"g"),s("mi",null,"h"),s("mi",null,"p"),s("mi",null,"u"),s("mi",null,"t"),s("mo",null,"="),s("mn",null,"500"),s("mi",null,"M"),s("mi",null,"B"),s("mi",{mathvariant:"normal"},"/"),s("mi",null,"s")]),s("annotation",{encoding:"application/x-tex"},"throughput=500MB/s")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.8889em","vertical-align":"-0.1944em"}}),s("span",{class:"mord mathnormal"},"t"),s("span",{class:"mord mathnormal"},"h"),s("span",{class:"mord mathnormal"},"ro"),s("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"ug"),s("span",{class:"mord mathnormal"},"h"),s("span",{class:"mord mathnormal"},"p"),s("span",{class:"mord mathnormal"},"u"),s("span",{class:"mord mathnormal"},"t"),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),s("span",{class:"mrel"},"="),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),s("span",{class:"base"},[s("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),s("span",{class:"mord"},"500"),s("span",{class:"mord mathnormal",style:{"margin-right":"0.05017em"}},"MB"),s("span",{class:"mord"},"/"),s("span",{class:"mord mathnormal"},"s")])])]),a("(ssd sata接口)")]),a(" 。")],-1),_=s("p",null,[s("strong",null,"根据论文，压缩后的每个向量大小为32Bytes"),a("。")],-1),y=s("p",null,[s("strong",null,[a("根据资料，xilinx U250加速卡具有33.3TOPs("),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mn",null,"1"),s("msup",null,[s("mn",null,"0"),s("mn",null,"12")])]),s("annotation",{encoding:"application/x-tex"},"10^{12}")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.8141em"}}),s("span",{class:"mord"},"1"),s("span",{class:"mord"},[s("span",{class:"mord"},"0"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.8141em"}},[s("span",{style:{top:"-3.063em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mtight"},[s("span",{class:"mord mtight"},"12")])])])])])])])])])])]),a(")的运算性能。就假设压缩后的向量32B对应32个int类型，那么计算距离要做32次减法，32次乘法和31次加法，以及一次开方。")])],-1),w=s("p",null,"带入前面的公式计算，很明显分子远大于分母，访存是性能瓶颈.",-1),f={__name:"10",setup(k){return c(n),h(),(M,B)=>(t(),m(o,r(i(l(u)(l(n),9))),{default:e(()=>[d,g,x,_,y,w]),_:1},16))}},L=p(f,[["__file","/@slidev/slides/10.md"]]);export{L as default};
